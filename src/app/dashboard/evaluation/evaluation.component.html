<div class="flex">
  <app-sidebar></app-sidebar>

  <div class="w-full p-2">
    <h2 class="py-4 text-2xl font-semibold text-gray-800 border-b">
      Calificar

      <button
        class="
          tooltip
          appearance-none
          px-7
          font-semibold
          text-gray-800
          border-b
        "
        (click)="handleModal(true)"
        id="btn"
      >
        <p class="text-red-800">
          Ayuda
          <i class="fas fa-question font-semibold text-red-800 border-b"></i>
        </p>
      </button>
    </h2>
    <!-- <div class="block md:flex items-center">
      <h2 class="py-4 text-2xl font-semibold text-gray-800 border-b">
        Calificaci√≥n Final | {{ sumreviewersRatings }} / 100
      </h2>
    </div> -->

    <div class="py-6">
      <form class="form-horizontal mx-auto">
        <table class="w-full">
          <thead>
            <tr class="border-b-2 border-gray-200 bg-gray-200">
              .
              <br />
              <th class="px-5 py-3 text-left text-sm text-gray-600">Nota</th>
              <th class="px-5 py-3 text-left text-sm text-gray-600">
                Observacion
              </th>
              <th class="px-5 py-3 text-left text-sm text-gray-600">
                Calificar
              </th>
            </tr>
          </thead>
          <tbody>
            <tr class="border-b border-gray-200 hover:bg-gray-200">
              <br />
              <th class="px-5 py-3 text-left text-sm text-gray-600">
                <input
                  class="
                    focus:border-blue-500
                    appearance-none
                    border
                    rounded
                    w-full
                    py-2
                    px-3
                    text-gray-700
                    leading-tight
                    focus:outline-none
                  "
                  type="number"
                  [(ngModel)]="inputreviewersRating"
                  name="inputreviewersRating"
                />
              </th>
              <th class="px-5 py-3 text-left text-sm text-gray-600">
                <input
                  class="
                    focus:border-blue-500
                    appearance-none
                    border
                    rounded
                    w-full
                    py-2
                    px-3
                    text-gray-700
                    leading-tight
                    focus:outline-none
                  "
                  type="text"
                  [(ngModel)]="inputremark"
                  name="inputremark"
                />
              </th>
              <th class="px-5 py-3 text-left text-sm text-gray-600">
                <button (click)="addQuality()" class="w-full">Add</button>
              </th>
            </tr>
          </tbody>
        </table>
        <div class="block md:flex items-center">
          <h2 class="py-4 text-2xl font-semibold text-gray-800 border-b">
            Parametros a calificar:
          </h2>
        </div>
        <br />
        <table class="w-full">
          <thead>
            <tr class="border-b-2 border-gray-200 bg-blue-200">
              <th class="px-5 py-3 text-left text-sm text-gray-600">
                Parametros
              </th>
              <td *ngFor="let parametro of parameters; let i = index">
                {{ i + 1 }}: {{ parametro }}
              </td>
            </tr>
            <tr>
              <th class="px-5 py-3 text-left text-sm text-gray-600">Notas</th>
              <td *ngFor="let observacion of scoreRemarks[2]">
                {{ observacion }}
              </td>
            </tr>
            <tr>
              <th class="px-5 py-3 text-left text-sm text-gray-600">
                Observaciones
              </th>
              <td *ngFor="let nota of scoreRemarks[1]">
                {{ nota }}
              </td>
            </tr>
          </thead>
        </table>

        <div class="block md:flex items-center justify-between">
          <button
            (click)="postQualification()"
            class="
              align-middle
              bg-blue-500
              hover:bg-blue-600
              text-center
              px-4
              py-2
              text-white text-sm
              font-semibold
              rounded-lg
              inline-block
              shadow-lg
              focus:outline-none
            "
          >
            Guardar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- MODAL -->
<div
  *ngIf="showModal"
  class="
    flex
    items-center
    justify-center
    fixed
    left-0
    bottom-0
    w-full
    h-full
    bg-gray-800 bg-opacity-75
    z-50
  "
>
  <div class="flex flex-col w-2/3 h-auto p-3 bg-white rounded">
    <h1 class="w-full h-full text-center uppercase py-3 font-bold text-md">
      Indicaciones
    </h1>

    <hr />

    <div
      class="
        flex
        w-full
        h-auto
        py-6
        px-10
        items-center
        justify-between
        bg-gray-200
        rounded
        text-gray-800
      "
    >
      <div class="w-full h-full items-center bg-gray-200 rounded text-gray-800">
        <div class="flex">
          <img src="/assets/img/ayuda.png" alt="" />
        </div>
      </div>
    </div>

    <hr />
    <div class="py-2 w-full flex justify-end">
      <button
        (click)="handleModal(false)"
        class="
          align-middle
          bg-red-500
          hover:bg-red-600
          text-center
          py-1
          px-4
          text-white text-sm
          font-semibold
          rounded-lg
          shadow-lg
          focus:outline-none
          flex
          items-center
        "
      >
        <i class="fas fa-window-close mr-1"></i>
        Cerrar
      </button>
    </div>
  </div>
</div>
